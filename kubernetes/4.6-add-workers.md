# Add Workers

1. Now we'll use SSH to remotely run the following commands on each worker:
   ```shell
   cd ~/certs
   nodes=("worker-01" "worker-02")
   for i in ${nodes[*]}
   do
       # Make several directories on each node.
       ssh vagrant@${i} sudo mkdir -p /etc/kubernetes/{pki,manifests} \
         /var/lib/kubelet/pki \
         /etc/systemd/system/kubelet.service.d
       # Copy the kubelet certificate and key over to the worker.
       sudo cat ${i}.key | ssh vagrant@${i} sudo tee /var/lib/kubelet/pki/kubelet.key
       sudo cat ${i}.crt | ssh vagrant@${i} sudo tee /var/lib/kubelet/pki/kubelet.crt
       # Copy the kubelet configuration to each node.
       sudo cat /var/lib/kubelet/config.yaml | ssh vagrant@${i} sudo tee /var/lib/kubelet/config.yaml
       # Copy the cluster CA certificate.
       sudo cat /etc/kubernetes/pki/ca.crt | ssh vagrant@${i} sudo tee /etc/kubernetes/pki/ca.crt
       # Copy the kubeconfig over.
       sudo cat ${i}.conf | ssh vagrant@${i} sudo tee /etc/kubernetes/kubelet.conf
       # Copy the kube-proxy kubeconfig.
       sudo cat /etc/kubernetes/kube-proxy.conf | ssh vagrant@${i} sudo tee /etc/kubernetes/kube-proxy.conf
       # Copy the systemd service unit.
       sudo cat /etc/systemd/system/kubelet.service.d/kubelet.conf | ssh vagrant@${i} sudo tee /etc/systemd/system/kubelet.service.d/kubelet.conf
       # reload the systemd unit
       ssh vagrant@${i} sudo systemctl daemon-reload
       ssh vagrant@${i} sudo systemctl restart kubelet.service
   done
   ```

Next: [Post Installation Checks]

Back: [Manual Cluster Install]

---

[Manual Cluster Install]: /kubernetes/4.0-manual-cluster-install.md
[Post Installation Checks]: /kubernetes/6.0-post-installation-checks.md
