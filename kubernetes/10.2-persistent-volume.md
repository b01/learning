# Persistent Volume

A PersistentVolume (PV) is a provisioned storage resource in a cluster.

There are two ways a PV may be provisioned:
* statically - by an administrator
* dynamically - using [Storage Classes].

Binding a PVC to a PV is a one-to-one mapping, the cluster generates a
`ClaimRef` which is a bidirectional binding between the two.

Once a Pod has a claim, and it is bound, the PV then belongs to the
Pod for as long as needed. See [Claims As Volumes] for more details on
this.

* `persistentVolumeReclaimPolicy` - what to a do with it when released from its
  claim. `Retain` is the default for manually provisioned volumes, and
  `Delete` for dynamically provisioned.
* `nodeAffinity` - required when using local volumes as the scheduler uses it
   to schedule Pods to the correct node.

```yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: example-pv
spec:
  capacity:
    storage: 100Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Delete
  storageClassName: local-storage
  local:
    path: /mnt/disks/ssd1
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - example-node
```

See the [PersistentVolumeSpec] for more options.

---

[PersistentVolumeSpec]: https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeSpec
[Storage Classes]: /kubernetes/10-storage#storage-classes
[Claims As Volumes]: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#claims-as-volumes