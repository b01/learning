# Network Policies

Use the NetworkPolicies feature when you want to control traffic flow at the IP
address or port level for **TCP**, **UDP**, and **SCTP** protocols in your
cluster.

You must use a [network plugin] which supports NetworkPolicy. For options
review [Install a Network Policy Provider].

A NetworkPolicySpec should have at least these top-level fields:
* `egress` - Rules affecting traffic leaving a Pod; at least one egress rule
   across all NetworkPolicies that matches the pod must allow traffic,
   otherwise it will be blocked. 
* `ingress` - Rules affecting incoming traffic to a Pod. Traffic is allowed:
  * no NetworkPolicies select it.
  * source is the pod's local node.
  * at least one ingress rule across all NetworkPolicies matches the pod.
* `podSelector` - Selects the Pods to which the NetworkPolicy is applied. An
   empty (`{}`) selector matches all Pods in the policy's namespace.
* `policyTypes` - List of rule types that the NetworkPolicy relates to. Valid
   options are ["Ingress", "Egress"]. This field is optional and will
   default based on the existence of ingress or egress rules. If you want to
   write an egress-only policy, you must explicitly specify policyTypes
   [ "Egress" ] and vis-vera.

Rules for each are combined additively.

---

[network plugin]: https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/
[Install a Network Policy Provider]: https://kubernetes.io/docs/tasks/administer-cluster/network-policy-provider/
[NetworkPolicySpec]: https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.34/#networkpolicyspec-v1-networking-k8s-io
