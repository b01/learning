# kube-controller-manager

The component that runs [controller] processes.

`kube-controller-manager` comes with a set of built-in controllers that provide
important core behaviors.

Logically, each controller is a separate process, but to reduce complexity,
they are all part of the `kube-controller-manager` binary and run in a single
process.

The `--controllers` option can be set to a list of controllers to enable. By
default, it is set to "*" which enables all built-in controllers.

To view `kube-controller-manager` server options:
* if it is deployed as a Pod  You can see the options in the file
  `/etc/kubernetes/manifest/kube-controller-manager.yaml`.
* If running as a service on the control-plane, then review the running
  process `ps -aux | grep kube-controller-manager`.

Some examples of controllers that you should always enable are:

* **Replication controller:** A workload resource that manages a replicated
  application, ensuring that a specific number of instances of a Pod are
  running.
* **Node controller**: Responsible for noticing and responding when nodes go
  down.
* **Job controller**: Watches for Job objects that represent one-off tasks,
  then creates Pods to run those tasks to completion.
* **EndpointSlice controller**: Populates EndpointSlice objects (to provide a
  link between Services and Pods).
* **ServiceAccount controller**: Create default ServiceAccounts for new
  namespaces.

## Controllers

Its job is make sure the current state equals the desired state.

A controller tracks at least one resource type. These objects have
a spec field that represents their desired state. The controller(s) for that
resource are responsible for making the current state come closer to that
desired state.

The controller might carry the action out itself; more commonly, it will send
messages to the API server that have useful side effects.

---

[controller]: https://kubernetes.io/docs/concepts/architecture/controller/
[options]: https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/#options
