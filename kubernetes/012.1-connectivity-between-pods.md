# Connectivity Between Pods

This document focuses on Pod-to-Pod communication with these notes taken from
the official Kubernetes [Cluster Networking] document.

Clusters require non-overlapping IP addresses for Pods, Services
and Nodes, taken from a pre-determined range of available addresses configured
in the following components:
* A CNI network plugin configured to assign IP addresses to Pods (Pod CIDR).
* `kube-apiserver` configured to assign IP addresses to Services (Service CIDR).
* `kubelet` or `the cloud-controller-manager` configured to assign IP addresses
   to Nodes (Cluster CIDR).

**Cluster networking types**

* IPv4 only
* IPv6 only
* DualStack

Clusters only consider the IP families present on the Pods, Services and Nodes
objects. For example, only the IP addresses in `node.status.addresses` or
`pod.status.ips` are considered for implementing the network model and defining
its type.

The network model is implemented by the container runtime on each node and
use a CNI plugin to manage their network and security capabilities. Some more
sophisticated than others.

## A/AAAA records

You can reach a Pod at:
```text
# for example: 172-17-0-3.default.pod.cluster.local
<pod-IPv4-address>.<namespace>.pod.<cluster-domain>

<pod-ipv4-address>.<service-name>.<my-namespace>.svc.<cluster-domain.example>
172-17-0-3.barista.cafe.svc.cluster.local
```

Currently, when a Pod is created, its hostname (as observed from within the Pod)
is the Pod's metadata.name value.


## Resources

* [DNS for Services and Pods]

---

[Cluster Networking]: https://kubernetes.io/docs/concepts/cluster-administration/networking/
[DNS for Services and Pods]: https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/
