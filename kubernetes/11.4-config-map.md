# ConfigMap

Used to store non-confidential data in key-value pairs.

Pods can consume ConfigMaps as:
* environment variables
* command-line arguments
* or as configuration files in a volume.
* directly using the kube-apiserver.

Allows you to decouple environment-specific configuration from your container
images, so that your applications are easily portable.

The data stored in a ConfigMap cannot exceed 1 MiB.

A ConfigMap object
* name must be a valid DNS subdomain name.
* has `data` and `binaryData` fields. Each key under the `data` or the
  `binaryData` fields must consist of alphanumeric characters, `-`, `_` or `.`.
  The keys stored in data must not overlap with the keys in the binaryData
  field.

```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: game-demo
data:
  # property-like keys; each key maps to a simple value
  player_initial_lives: "3"
  ui_properties_file_name: "user-interface.properties"

  # file-like keys
  game.properties: |
    enemy.types=aliens,monsters
    player.maximum-lives=5
  user-interface.properties: |
    color.good=purple
    color.bad=yellow
    allow.textmode=true
```

Pod authors can write code to run inside the Pod that uses the Kubernetes API
to read a ConfigMap over time, which allows the app to react to the changes.

Defining a volume and mounting it inside a container creates files for every
key in a ConfigMap if you omit the
`.spec.containers[*].volumes[*].configMap.items` list entirely.

When a ConfigMap currently consumed in a volume is updated, projected keys are
eventually updated as well.

Note: A container using a ConfigMap as a `subPath` volume mount will not
receive ConfigMap updates.

ConfigMaps consumed as environment variables are not updated automatically
and require a Pod restart.
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: envConfigMap
data:
  username: k8s-admin
  access_level: "1"
---
apiVersion: v1
kind: Pod
metadata:
  name: env-configmap
spec:
  containers:
    - name: app
      command: ["/bin/sh", "-c", "printenv"]
      image: busybox:latest
      envFrom:
        - configMapRef:
            name: envConfigMap

```

You can create an immutable ConfigMap by setting the `immutable` field to
`true`. Once marked as immutable, you can only delete and recreate the ConfigMap
and any Pods that used it in order to make changes.
